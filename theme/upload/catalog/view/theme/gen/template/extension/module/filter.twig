<div class="panel panel-default">
   <div class="list-group">
      {% for filter_group in filter_groups %}
         <a class="list-group-item">{{ filter_group.name }}</a>
         <div class="list-group-item">
            <div id="filter-group{{ filter_group.filter_group_id }}">
               {% for filter in filter_group.filter %}
                  <div class="checkbox">
                     <label>
                        {% if filter.filter_id in filter_category %}
                           <input type="checkbox"
                                  name="filter[]"
                                  value="{{ filter.filter_id }}"
                                  checked="checked"/>
                           {{ filter.name }}
                        {% else %}
                           <input type="checkbox"
                                  name="filter[]"
                                  value="{{ filter.filter_id }}"/>
                           {{ filter.name }}
                        {% endif %}
                     </label>
                  </div>
               {% endfor %}
            </div>
         </div>
      {% endfor %}
   </div>
</div>
<script type="text/javascript"><!--
    $('input[type=\'checkbox\']').on('change', function () {
        let filter = [];

        $('input[name^=\'filter\']:checked').each(function () {
            filter.push($(this).val());
        });

        location = '{{ action }}&filter=' + filter.join(',');
    });
    //--></script>
